<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    
   <script>
      window.simplexAsyncFunction = function () {
        Simplex.init({public_key: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwYXJ0bmVyIjoiZGJhIiwiaXAiOlsiMS4yLjMuNCJdLCJzYW5kYm94Ijp0cnVlfQ.L1uXemcqBlm2QIrvo42RAmPEwzIi8zOn7DM0jWq5HbY'})
      };
  </script>

<script src="https://cdn.test-simplexcc.com/sdk/v1/js/sdk.js" async></script>
  
  

  </head>
  <body>
    <h1>Simplex Api Test Page Client side</h1>
    <hr>
    <h3>get quote</h3>
    <form action="/get_quote" method="post">
      <div class="form-group">
        <label for="">Fait</label>
        <select class="form-control" name="" id="">
          <option value="USD">USD</option>
          <option></option>
          <option></option>
        </select>
      </div>

      <div class="form-group">
        <label for="">Crypto</label>
        <select class="form-control" name="" id="">
          <option value="BTC">BTC</option>
          <option></option>
          <option></option>
        </select>
      </div>

      <div class="row justify-content-center">
        <input class="btn btn-outline-info" type="submit" value="get fait quote">
   
        <input class="btn btn-outline-info" type="submit" value="get crypto quote">
      </div>

      

    </form>
    <hr>
    <h1>form check out</h1>
 
      <form id="payment_form" action="https://sandbox.test-simplexcc.com/payments/new" method="post">
      <input type="hidden" name="version" value="1">
      <input type="hidden" name="partner" value="partner_name">
      <input type="hidden" name="payment_flow_type" value="wallet">
      <input type="hidden" name="return_url_success" value="https://dafrixchange">
      <input type="hidden" name="return_url_fail" value="https://dafribank.com">
      <input type="hidden" name="payment_id" value="2222cb8e-98fe-4808-b128-ade81ff95d08">
      <input class="btn btn-primary"type="submit" value="check out">
      </form>

      <script type="text/javascript">
       // document.forms["payment_form"].submit();
      </script>
    <p ><i style="color:red">kyc is need from the partner for this to work</i></p>
    
    <hr>
    <h1>pop-up widget checkout</h1>
    <form id="simplex-form">
      <div id="checkout-element">
          <!-- checkout will be rendered here -->
      </div>
  </form>

  <script>

    const params = {
    payment_id: '2222cb8e-98fe-4808-b128-ade81ff95d08'
    }
    Simplex.load(params, function (event) {
        console.log(event.type) // => 'checkoutLoadSucceeded'
    });

    Simplex.subscribe('onlineFlowFinished', function (event) {
    console.log(e.payload.result) // => "success" or "failure"
    });
  </script>



  </body>
</html>
